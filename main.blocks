<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="jE}E$,pkDVFU4@A[X8+]">acceleration</variable><variable id="x_zq!79WMf8D2jOfhR-0">pitch</variable><variable id="otHCHu2yI|8BQ~YJ85K:">roll</variable><variable id="wfoGUv)Da*uDw}L477{=">isTilting</variable><variable id=")P6uax,Yr@4.+iH`^:w]">pitchShift</variable><variable id="Kv6M@[q1*#n1V^QX]wKU">newFrequency</variable><variable id="C!a%_sh!m#RFsS-ROxBM">baseFrequency</variable><variable id="$6A[21TW,j?5iow5c9J5">TONE_DURATION_MS</variable></variables><block type="pxt-on-start" id="LGqs`8@d/8fenR,uKwl." x="20" y="20"><statement name="HANDLER"><block type="variables_set" id="R;AfX|hW_oO)!oBPbVKM"><field name="VAR" id="C!a%_sh!m#RFsS-ROxBM">baseFrequency</field><comment pinned="false" h="80" w="160">Base frequency (A4 note)</comment><value name="VALUE"><shadow type="math_number" id="YuSrF-jS~CWZ9a$Af$Zc"><field name="NUM">440</field></shadow></value><next><block type="variables_set" id="uz{RBeW~y%jI.Z,}f@fm"><field name="VAR" id="$6A[21TW,j?5iow5c9J5">TONE_DURATION_MS</field><comment pinned="false" h="80" w="160">Tone duration in milliseconds</comment><value name="VALUE"><shadow type="math_number" id="ZrdrvzaYbX_Yw-H)-*^}"><field name="NUM">5</field></shadow></value></block></next></block></statement></block><block type="device_forever" id="M%lf/[GPFlNE*d=KZihE" x="415" y="20"><comment pinned="false" h="80" w="160">Flag to track tilt state</comment><statement name="HANDLER"><block type="serial_writevalue" id="lWA+$Z7?:%*Y5qS,tH{g"><value name="name"><shadow type="text" id="wKD6Y{GDO=oD?76$C`nh"><field name="TEXT">x</field></shadow></value><value name="value"><shadow type="math_number" id="CYE})!2#t`gOfmJJVT`,"><field name="NUM">0</field></shadow><block type="device_acceleration" id="N^USih9AHqzyZUA3:Uf`"><field name="NAME">Dimension.Y</field></block></value><next><block type="variables_set" id="tTmq?kK[,SJ#sKkJB?]Y"><field name="VAR" id="jE}E$,pkDVFU4@A[X8+]">acceleration</field><comment pinned="false" h="80" w="160">Get accelerometer values</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_acceleration" id="Wz?P+Y^Utyj91gWte1iC"><field name="NAME">Dimension.Y</field></block></value><next><block type="variables_set" id="_yM~DO3=iy$cD-C}9d:/"><field name="VAR" id="x_zq!79WMf8D2jOfhR-0">pitch</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="una!v(UaC%kJ+0Mm|~Ai"><field name="VAR" id="jE}E$,pkDVFU4@A[X8+]">acceleration</field></block></value><next><block type="variables_set" id=";~SX]kA1|)t|hee$fJ7."><field name="VAR" id="otHCHu2yI|8BQ~YJ85K:">roll</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_rotation" id="U=x6z.xRW02#n)!GF2j7"><field name="NAME">Rotation.Roll</field></block></value><next><block type="controls_if" id="n3(!=3;?lb8PiU66@1!Q"><mutation else="1"></mutation><comment pinned="false" h="80" w="160">Check if the sensor is tilting</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="HfD2dA]|$H?XMsY!kJn7"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_op3" id="()n8/R;Fi_)i[V#VBgb1"><value name="x"><shadow type="math_number" id="{?-Y}KwD7Ez8Ti:37ZaM"><field name="NUM">0</field></shadow><block type="variables_get" id="^04jd~!,AwL10Y!Z{zLa"><field name="VAR" id="x_zq!79WMf8D2jOfhR-0">pitch</field></block></value></block></value><value name="B"><shadow type="math_number" id="bDLX0-1]+-4f$w#shg%:"><field name="NUM">960</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="z-(:4G8oZtaLw+3?saoJ"><field name="VAR" id="wfoGUv)Da*uDw}L477{=">isTilting</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="u8YKr)*|AM^kB0JosMhm"><field name="BOOL">TRUE</field></block></value></block></statement><statement name="ELSE"><block type="variables_set" id="#tmy|2vY)sD;q+w2!n2;"><field name="VAR" id="wfoGUv)Da*uDw}L477{=">isTilting</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="Z}):yv^${(,(vcQQ`7!5"><field name="BOOL">FALSE</field></block></value></block></statement><next><block type="controls_if" id="+rApvbt)Hq5@;E5/{v7?"><comment pinned="false" h="80" w="160">Play the tone only when tilting</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="|Xya=I+imN[NZBMpUo!b"><field name="VAR" id="wfoGUv)Da*uDw}L477{=">isTilting</field></block></value><statement name="DO0"><block type="variables_set" id="G^Fi7BlzgRzCY~6/R9~u"><field name="VAR" id=")P6uax,Yr@4.+iH`^:w]">pitchShift</field><comment pinned="false" h="80" w="160">Calculate the pitch shift based on tilt
Adjust this factor for sensitivity</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_js_round" id="V8.Vb:quyQq4^y:-^,z*"><field name="OP">floor</field><value name="ARG0"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="HgJ7/ocf/S@{cWd_bsx?"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="u#1]q@zK3}.;T;Q;/~Iu"><field name="VAR" id="x_zq!79WMf8D2jOfhR-0">pitch</field></block></value><value name="B"><shadow type="math_number" id="@?-Ti8_A?%iTz.RuSxxM"><field name="NUM">50</field></shadow></value></block></value></block></value><next><block type="variables_set" id="O%7YZBIBnyt)sh9@7xE2"><field name="VAR" id="Kv6M@[q1*#n1V^QX]wKU">newFrequency</field><comment pinned="false" h="80" w="160">Calculate the new frequency</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="ub:DJQOI#TcZf;KfnVj/"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="r%(dOQbNr)G1,n@Tcj67"><field name="VAR" id="C!a%_sh!m#RFsS-ROxBM">baseFrequency</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="wHB2Z8G|+OC$Y29~XYr4"><field name="VAR" id=")P6uax,Yr@4.+iH`^:w]">pitchShift</field></block></value></block></value><next><block type="device_play_note" id="kJcV=-Bo$,MHp0gcPQS!"><comment pinned="false" h="80" w="160">Play the tone with the specified duration</comment><value name="note"><shadow type="device_note"></shadow><block type="variables_get" id=":RG}V.T_IA?sE,22uJb)"><field name="VAR" id="Kv6M@[q1*#n1V^QX]wKU">newFrequency</field></block></value><value name="duration"><shadow type="device_beat"></shadow><block type="variables_get" id="uW3%]jLTE#{hp13V^oN$"><field name="VAR" id="$6A[21TW,j?5iow5c9J5">TONE_DURATION_MS</field></block></value></block></next></block></next></block></statement><next><block type="device_pause" id="ND@H;_mHL/d!]+.:N0wz"><comment pinned="false" h="80" w="160">Wait for a short duration (adjust as needed)</comment><value name="pause"><shadow type="timePicker" id="0oIEy])(vmL^r3j!--U#"><field name="ms">100</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>